<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 2 - Context Collection - SuperRank</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="upload-styles.css">
    <link rel="stylesheet" href="step2-styles.css">
    <!-- SF Pro fonts loaded locally -->
</head>
<body class="upload-flow">
    <!-- Top Right Close Button -->
    <button class="top-close-button" id="topCloseButton">
        <img src="assets/images/icon-close-white.png" alt="Close" class="top-close-icon">
    </button>

    <div class="upload-container">
        <!-- Main Title -->
        <div class="upload-title">
            <h1>What's the product?</h1>
        </div>

        <!-- Subtitle -->
        <div class="step-subtitle">
            <span>ô€€ƒ Collecting more context</span>
        </div>
    </div>

    <!-- ChatInput Component -->
    <div class="chat-input-container" id="chatInputContainer">
        <!-- State 1: Image Type Selection -->
        <div class="chat-step active" id="chatStep1" data-state="1">
            <div class="step-layout">
                <div class="step-upload-section">
                    <button class="chat-image-btn selected" id="chatImageBtn" title="Uploaded image">
                        <img src="assets/images/icon-img-dark.png" alt="Uploaded image" class="chat-image-icon">
                    </button>
                    <button class="chat-image-close-btn floating" id="stepImageCloseBtn" title="Remove image">
                        <img src="assets/images/icon-close-red.png" alt="Close" class="close-icon">
                    </button>
                </div>
                <div class="step-content-box">
                    <div class="step-content-left">
                        <div class="step-header-inline">
                            <h4 class="step-title">Image type?</h4>
                        </div>
                        <div class="step-options">
                            <button class="option-tag" data-value="component">Component</button>
                            <button class="option-tag" data-value="screen">Screen</button>
                            <button class="option-tag" data-value="flow">Flow</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="step-progress-bar">
                <div class="progress-fill" id="step1ProgressFill"></div>
            </div>
        </div>

        <!-- State 2: Product Description -->
        <div class="chat-step hidden" id="chatStep2" data-state="2">
            <div class="step-layout">
                <div class="step-upload-section">
                    <button class="chat-image-btn selected" id="chatImageBtn2" title="Uploaded image">
                        <img src="assets/images/icon-img-dark.png" alt="Uploaded image" class="chat-image-icon">
                    </button>
                    <button class="chat-image-close-btn floating" id="stepImageCloseBtn2" title="Remove image">
                        <img src="assets/images/icon-close-red.png" alt="Close" class="close-icon">
                    </button>
                </div>
                <div class="step-content-box">
                    <div class="step-content-left">

                        <div class="step-input-container">
                            <button class="step-back-btn" id="step2BackBtn">
                                <img src="assets/images/icon-chevron-back.png" alt="Back" class="back-icon">
                            </button>
                            <input type="text" id="productDescriptionInput" placeholder="Describe what this product is about...">
                        </div>
                    </div>
                    <button class="step-next-btn" id="step2NextBtn">
                        <img src="assets/images/icon-arrow-right.png" alt="Next" class="next-icon">
                    </button>
                </div>
            </div>
            <div class="step-progress-bar">
                <div class="progress-fill" id="step2ProgressFill"></div>
            </div>
        </div>

        <!-- State 3: Product Location -->
        <div class="chat-step hidden" id="chatStep3" data-state="3">
            <div class="step-layout">
                <div class="step-upload-section">
                    <button class="chat-image-btn selected" id="chatImageBtn3" title="Uploaded image">
                        <img src="assets/images/icon-img-dark.png" alt="Uploaded image" class="chat-image-icon">
                    </button>
                    <button class="chat-image-close-btn floating" id="stepImageCloseBtn3" title="Remove image">
                        <img src="assets/images/icon-close-red.png" alt="Close" class="close-icon">
                    </button>
                </div>
                <div class="step-content-box">
                    <div class="step-content-left">
                        <div class="step-input-container">
                            <button class="step-back-btn" id="step3BackBtn">
                                <img src="assets/images/icon-chevron-back.png" alt="Back" class="back-icon">
                            </button>
                            <input type="text" id="productLocationInput" placeholder="Describe where this fits in the product...">
                        </div>
                    </div>
                </div>
            </div>
            <div class="step-progress-bar">
                <div class="progress-fill" id="step3ProgressFill"></div>
            </div>
        </div>
    </div>

    <!-- Next Arrow Button (appears in state 3) -->
    <button class="next-arrow-button" id="nextArrowButton" style="display: none;">
        <img src="assets/images/icon-arrow-right.png" alt="Next" class="next-arrow-icon">
    </button>

    <!-- Navigation -->
    <div class="upload-navigation">
        <!-- Back Button -->
        <button class="nav-button nav-back" id="backButton">
            <img src="assets/images/icon-arrow-right.png" alt="Back" class="nav-icon nav-icon-back">
        </button>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-dot" data-step="1"></div>
            <div class="progress-dot active" data-step="2"></div>
            <div class="progress-dot" data-step="3"></div>
            <div class="progress-dot" data-step="4"></div>
            <div class="progress-dot" data-step="5"></div>
            <div class="progress-dot" data-step="6"></div>
            <div class="progress-dot" data-step="7"></div>
        </div>

        <!-- Next Button -->
        <button class="nav-button nav-next" id="nextButton">
            <img src="assets/images/icon-arrow-right.png" alt="Next" class="nav-icon">
        </button>
    </div>

    <script src="step2-script.js"></script>
</body>
</html>
